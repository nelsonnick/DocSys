webpackJsonp([2],{0:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=(r(16),r(14)),l=a(u),s=(r(41),r(36)),p=a(s),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(442),f=a(d),m=r(439),h=a(m),b=r(440),y=a(b),g=r(2),_=a(g),v=r(15),P=a(v);r(330);var w=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={menuFunctionType:""},r.setMenuLabel=r.setMenuLabel.bind(r),r}return i(t,e),c(t,[{key:"setMenuLabel",value:function(e){this.setState({menuFunctionType:e})}},{key:"render",value:function(){return _["default"].createElement("div",null,_["default"].createElement(l["default"],null,_["default"].createElement(p["default"],{span:24},_["default"].createElement(f["default"],null))),_["default"].createElement(l["default"],null,_["default"].createElement("span",{style:{"font-size":"10px"}},"   ")),_["default"].createElement(l["default"],{type:"flex",justify:"start"},_["default"].createElement(p["default"],{span:3},_["default"].createElement(h["default"],{menuLabel:this.setMenuLabel})),_["default"].createElement(p["default"],{span:20},_["default"].createElement(y["default"],{menuFunctionType:this.state.menuFunctionType}))))}}]),t}(_["default"].Component);P["default"].render(_["default"].createElement(w,null),document.body)},234:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n=r(5),o=a(n),i=r(57),u=a(i),l=r(17),s=a(l),p=r(19),c=a(p),d=r(18),f=a(d),m=r(2),h=a(m),b=r(383),y=a(b),g=r(51),_=a(g),v=r(29),P=a(v),w=r(56),O=a(w),C=function(){},E=function(e){function t(r){(0,s["default"])(this,t);var a=(0,c["default"])(this,e.call(this,r));return a.confirm=function(){a.setVisible(!1),a.props.onConfirm.call(a)},a.cancel=function(){a.setVisible(!1),a.props.onCancel.call(a)},a.onVisibleChange=function(e){a.setVisible(e)},a.state={visible:!1},a}return(0,f["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){"visible"in e&&this.setState({visible:e.visible})},t.prototype.setVisible=function(e){"visible"in this.props||this.setState({visible:e}),this.props.onVisibleChange(e)},t.prototype.render=function(){var e=(0,O["default"])(this.props,["prefixCls","title","placement"]),t=(0,u["default"])(e,2),r=t[0],a=r.prefixCls,n=r.title,i=r.placement,l=t[1],s=this.props,p=s.okText,c=s.cancelText;this.context.antLocale&&this.context.antLocale.Popconfirm&&(p=p||this.context.antLocale.Popconfirm.okText,c=c||this.context.antLocale.Popconfirm.cancelText);var d=h["default"].createElement("div",null,h["default"].createElement("div",{className:a+"-inner-content"},h["default"].createElement("div",{className:a+"-message"},h["default"].createElement(_["default"],{type:"exclamation-circle"}),h["default"].createElement("div",{className:a+"-message-title"},n)),h["default"].createElement("div",{className:a+"-buttons"},h["default"].createElement(P["default"],{onClick:this.cancel,type:"ghost",size:"small"},c||"取消"),h["default"].createElement(P["default"],{onClick:this.confirm,type:"primary",size:"small"},p||"确定"))));return h["default"].createElement(y["default"],(0,o["default"])({},l,{prefixCls:a,placement:i,onVisibleChange:this.onVisibleChange,visible:this.state.visible,overlay:d}))},t}(h["default"].Component);t["default"]=E,E.defaultProps={prefixCls:"ant-popover",transitionName:"zoom-big",placement:"top",trigger:"click",onConfirm:C,onCancel:C,onVisibleChange:C},E.contextTypes={antLocale:h["default"].PropTypes.object},e.exports=t["default"]},235:function(e,t,r){"use strict";r(24),r(375)},302:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={adjustX:1,adjustY:1},a=[0,0],n=t.placements={left:{points:["cr","cl"],overflow:r,offset:[-4,0],targetOffset:a},right:{points:["cl","cr"],overflow:r,offset:[4,0],targetOffset:a},top:{points:["bc","tc"],overflow:r,offset:[0,-4],targetOffset:a},bottom:{points:["tc","bc"],overflow:r,offset:[0,4],targetOffset:a},topLeft:{points:["bl","tl"],overflow:r,offset:[0,-4],targetOffset:a},leftTop:{points:["tr","tl"],overflow:r,offset:[-4,0],targetOffset:a},topRight:{points:["br","tr"],overflow:r,offset:[0,-4],targetOffset:a},rightTop:{points:["tl","tr"],overflow:r,offset:[4,0],targetOffset:a},bottomRight:{points:["tr","br"],overflow:r,offset:[0,4],targetOffset:a},rightBottom:{points:["bl","br"],overflow:r,offset:[4,0],targetOffset:a},bottomLeft:{points:["tl","bl"],overflow:r,offset:[0,4],targetOffset:a},leftBottom:{points:["br","bl"],overflow:r,offset:[-4,0],targetOffset:a}};t["default"]=n},375:[965,923],383:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var n=r(5),o=a(n),i=r(20),u=a(i),l=r(17),s=a(l),p=r(19),c=a(p),d=r(18),f=a(d),m=r(2),h=a(m),b=r(835),y=a(b),g=r(384),_=a(g),v=r(12),P=a(v),w=function(e){function t(r){(0,s["default"])(this,t);var a=(0,c["default"])(this,e.call(this,r));return a.onVisibleChange=function(e){a.setState({visible:e}),a.props.onVisibleChange(e)},a.onPopupAlign=function(e,t){var r=a.getPlacements(),n=Object.keys(r).filter(function(e){return r[e].points[0]===t.points[0]&&r[e].points[1]===t.points[1]})[0];if(n){var o=e.getBoundingClientRect(),i={top:"50%",left:"50%"};n.indexOf("top")>=0||n.indexOf("Bottom")>=0?i.top=o.height-t.offset[1]+"px":(n.indexOf("Top")>=0||n.indexOf("bottom")>=0)&&(i.top=-t.offset[1]+"px"),n.indexOf("left")>=0||n.indexOf("Right")>=0?i.left=o.width-t.offset[0]+"px":(n.indexOf("right")>=0||n.indexOf("Left")>=0)&&(i.left=-t.offset[0]+"px"),e.style.transformOrigin=i.left+" "+i.top}},a.state={visible:!1},a}return(0,f["default"])(t,e),t.prototype.getPopupDomNode=function(){return this.refs.tooltip.getPopupDomNode()},t.prototype.getPlacements=function(){var e=this.props,t=e.builtinPlacements,r=e.arrowPointAtCenter;return t||(0,_["default"])({arrowPointAtCenter:r,verticalArrowShift:8})},t.prototype.render=function(){var e,t=this.props,r=t.prefixCls,a=t.title,n=t.overlay,i=t.children,l=this.state.visible;a||n||(l=!1),"visible"in this.props&&(l=this.props.visible);var s=i?i.props:{},p=(0,P["default"])((e={},(0,u["default"])(e,s.className,!!s.className),(0,u["default"])(e,this.props.openClassName||r+"-open",!0),e));return h["default"].createElement(y["default"],(0,o["default"])({overlay:a,visible:l,onPopupAlign:this.onPopupAlign,ref:"tooltip"},this.props,{builtinPlacements:this.getPlacements(),onVisibleChange:this.onVisibleChange}),l?(0,m.cloneElement)(i,{className:p}):i)},t}(h["default"].Component);t["default"]=w,w.defaultProps={prefixCls:"ant-tooltip",placement:"top",transitionName:"zoom-big-fast",mouseEnterDelay:.1,mouseLeaveDelay:.1,onVisibleChange:function(){},arrowPointAtCenter:!1},e.exports=t["default"]},384:function(e,t,r){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.arrowPointAtCenter)return n.placements;var t=e.arrowWidth,r=void 0===t?5:t,a=e.horizontalArrowShift,u=void 0===a?16:a,l=e.verticalArrowShift,s=void 0===l?12:l;return{left:{points:["cr","cl"],overflow:o,offset:[-4,0],targetOffset:i},right:{points:["cl","cr"],overflow:o,offset:[4,0],targetOffset:i},top:{points:["bc","tc"],overflow:o,offset:[0,-4],targetOffset:i},bottom:{points:["tc","bc"],overflow:o,offset:[0,4],targetOffset:i},topLeft:{points:["bl","tc"],overflow:o,offset:[-(u+r),-4],targetOffset:i},leftTop:{points:["tr","cl"],overflow:o,offset:[-4,-(s+r)],targetOffset:i},topRight:{points:["br","tc"],overflow:o,offset:[u+r,-4],targetOffset:i},rightTop:{points:["tl","cr"],overflow:o,offset:[4,-(s+r)],targetOffset:i},bottomRight:{points:["tr","bc"],overflow:o,offset:[u+r,4],targetOffset:i},rightBottom:{points:["bl","cr"],overflow:o,offset:[4,s+r],targetOffset:i},bottomLeft:{points:["tl","bc"],overflow:o,offset:[-(u+r),4],targetOffset:i},leftBottom:{points:["br","cl"],overflow:o,offset:[-4,s+r],targetOffset:i}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var n=r(302),o={adjustX:1,adjustY:1},i=[0,0];e.exports=t["default"]},412:function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(r(16),r(14)),s=n(l),p=(r(62),r(61)),c=n(p),d=(r(35),r(29)),f=n(d),m=(r(28),r(27)),h=n(m),b=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),y=r(2),g=n(y),_=r(413),v=n(_),P=r(11),w=a(P),O=r(13),C=n(O),E=function(e,t,r){h["default"][e]({message:t,description:r})},k=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={visible:!1},r.showModal=r.showModal.bind(r),r.handleOk=r.handleOk.bind(r),r.handleCancel=r.handleCancel.bind(r),r.handleReset=r.handleReset.bind(r),r}return u(t,e),b(t,[{key:"showModal",value:function(){this.setState({visible:!0})}},{key:"handleOk",value:function(){var e=this;this.setState({confirmLoading:!0}),this.refs.AddForm.validateFields(function(t,r){return t?(E("error","录入错误","录入的信息中有错误，请核实后再更新"),void e.setState({confirmLoading:!1})):void C["default"].ajax({type:"POST",url:w.DepartmentAdd,dataType:"text",data:{name:r.departmentName,phone:r.departmentPhone,address:r.departmentAddress,number:r.departmentNumber,state:r.departmentState,other:r.departmentOther||"",code:r.departmentCode},success:function(t){"OK"===t.toString()?(e.setState({visible:!1,confirmLoading:!1}),e.refs.AddForm.resetFields(),E("success","保存成功",r.departmentName+"保存成功，请进行后续操作"),e.props.afterAdd()):(E("error","保存失败","无法进行保存操作： "+t.toString()),e.setState({confirmLoading:!1}))},error:function(){E("error","请求错误","无法完成新增操作，请检查网络情况"),e.setState({confirmLoading:!1})}})})}},{key:"handleCancel",value:function(){this.refs.AddForm.resetFields(),this.setState({visible:!1})}},{key:"handleReset",value:function(){this.refs.AddForm.resetFields()}},{key:"render",value:function(){return g["default"].createElement(s["default"],{type:"flex",justify:"start"},g["default"].createElement(f["default"],{type:"primary",size:"large",onClick:this.showModal},"新增部门"),g["default"].createElement(c["default"],{maskClosable:!1,title:"新增部门",visible:this.state.visible,onOk:this.handleOk,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,footer:[g["default"].createElement(f["default"],{key:"back",onClick:this.handleCancel},"返 回"),g["default"].createElement(f["default"],{key:"reset",type:"ghost",size:"large",onClick:this.handleReset},"重 置"),g["default"].createElement(f["default"],{key:"submit",type:"primary",size:"large",loading:this.state.loading,onClick:this.handleOk},"提 交")]},g["default"].createElement(v["default"],{ref:"AddForm"})))}}]),t}(g["default"].Component);t["default"]=k,k.propTypes={afterAdd:g["default"].PropTypes.func}},413:function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(r(37),r(47)),s=n(l),p=(r(48),r(42)),c=n(p),d=(r(46),r(45)),f=n(d),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},h=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),b=r(2),y=n(b),g=r(13),_=n(g),v=r(11),P=a(v),w=f["default"].Item,O=c["default"].Option,C=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.departmentNameCheck=r.departmentNameCheck.bind(r),r.departmentPhoneCheck=r.departmentPhoneCheck.bind(r),r.departmentAddressCheck=r.departmentAddressCheck.bind(r),r.departmentNumberCheck=r.departmentNumberCheck.bind(r),r.departmentCodeCheck=r.departmentCodeCheck.bind(r),r}return u(t,e),h(t,[{key:"departmentNameCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.DepartmentName,dataType:"text",data:{name:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"departmentPhoneCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.DepartmentPhone,dataType:"text",data:{phone:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"departmentAddressCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.DepartmentAddress,dataType:"text",data:{address:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"departmentNumberCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.DepartmentNumber,dataType:"text",data:{number:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"departmentCodeCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.DepartmentCode,dataType:"text",data:{code:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,r=e.getFieldError,a=e.isFieldValidating,n={labelCol:{span:6},wrapperCol:{span:14}};return y["default"].createElement(f["default"],{horizontal:!0},y["default"].createElement(w,m({label:"部门名称"},n,{hasFeedback:!0,required:!0,help:a("departmentName")?"校验中...":r("departmentName")||[]}),t("departmentName",{rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.departmentNameCheck}]})(y["default"].createElement(s["default"],{placeholder:"请输入部门的中文全称"}))),y["default"].createElement(w,m({label:"部门编号"},n,{hasFeedback:!0,required:!0,help:a("departmentNumber")?"校验中...":r("departmentNumber")||[]}),t("departmentNumber",{rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.departmentNumberCheck}]})(y["default"].createElement(s["default"],{placeholder:"请输入部门的编号"}))),y["default"].createElement(w,m({label:"部门电话"},n,{hasFeedback:!0,required:!0,help:a("departmentPhone")?"校验中...":r("departmentPhone")||[]}),t("departmentPhone",{rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.departmentPhoneCheck}]})(y["default"].createElement(s["default"],{placeholder:"请输入8位固定电话"}))),y["default"].createElement(w,m({label:"部门地址"},n,{hasFeedback:!0,required:!0,help:a("departmentAddress")?"校验中...":r("departmentAddress")||[]}),t("departmentAddress",{rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.departmentAddressCheck}]})(y["default"].createElement(s["default"],{placeholder:"请输入详细地址"}))),y["default"].createElement(w,m({label:"邮政编码"},n,{hasFeedback:!0,required:!0,help:a("departmentCode")?"校验中...":r("departmentCode")||[]}),t("departmentCode",{rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.departmentCodeCheck}]})(y["default"].createElement(s["default"],{placeholder:"请输入6位邮政编码"}))),y["default"].createElement(w,m({label:"部门状态"},n,{required:!0}),t("departmentState",{initialValue:"激活"})(y["default"].createElement(c["default"],{size:"large"},y["default"].createElement(O,{value:"激活"},"激活"),y["default"].createElement(O,{value:"注销"},"注销")))),y["default"].createElement(w,m({label:"其他信息"},n,{hasFeedback:!0}),t("departmentOther")(y["default"].createElement(s["default"],{type:"textarea",rows:"3",placeholder:"其他需要填写的信息"}))))}}]),t}(y["default"].Component);C=f["default"].create({})(C),t["default"]=C,C.propTypes={form:y["default"].PropTypes.object}},414:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(r(16),r(14)),l=a(u),s=(r(101),r(100)),p=a(s),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(2),f=a(d),m=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.DataCount,r=e.onShowSizeChange,a=e.onChange,n=e.PageNumber;return f["default"].createElement(l["default"],{type:"flex",justify:"end"},f["default"].createElement(p["default"],{showQuickJumper:!0,showSizeChanger:!0,onShowSizeChange:r,onChange:a,defaultCurrent:n,total:t,current:n,showTotal:function(e){return"共 "+e+" 条"},defaultPageSize:9,pageSizeOptions:["9","18","27","36"]}))}}]),t}(f["default"].Component);t["default"]=m,m.propTypes={DataCount:f["default"].PropTypes.string,PageNumber:f["default"].PropTypes.string,onShowSizeChange:f["default"].PropTypes.func,onChange:f["default"].PropTypes.func}},415:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(r(16),r(14)),l=a(u),s=(r(35),r(29)),p=a(s),c=(r(37),r(47)),d=a(c),f=(r(46),r(45)),m=a(f),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},b=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),y=r(2),g=a(y),_=m["default"].Item,v=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleSubmit=r.handleSubmit.bind(r),r.handleReset=r.handleReset.bind(r),r.download=r.download.bind(r),r}return i(t,e),b(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.setQuery(this.props.form.getFieldValue("departmentName"))}},{key:"handleReset",value:function(e){e.preventDefault(),this.props.form.setFieldsValue({departmentName:""}),this.props.form.resetFields(),this.props.resetPage()}},{key:"download",value:function(e){e.preventDefault(),this.props.getDownload()}},{key:"render",value:function(){var e=this.props.form.getFieldProps;return g["default"].createElement(l["default"],{type:"flex",justify:"end"},g["default"].createElement(m["default"],{inline:!0,onSubmit:this.handleSubmit},g["default"].createElement(_,{label:"部门名称："},g["default"].createElement(d["default"],h({placeholder:"请输入部门名称",initialValue:this.props.deptName},e("departmentName")))),g["default"].createElement(p["default"],{type:"primary",htmlType:"submit"},"查找"),g["default"].createElement("span",null,"   "),g["default"].createElement(p["default"],{type:"ghost",onClick:this.handleReset},"重置"),g["default"].createElement("span",null,"   "),g["default"].createElement(p["default"],{onClick:this.download},"导出")))}}]),t}(g["default"].Component);v=m["default"].create({})(v),t["default"]=v,v.propTypes={setQuery:g["default"].PropTypes.func,getDownload:g["default"].PropTypes.func,resetPage:g["default"].PropTypes.func,deptName:g["default"].PropTypes.string,form:g["default"].PropTypes.object}},416:function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(r(128),r(127)),s=n(l),p=(r(235),r(234)),c=n(p),d=(r(126),r(125)),f=n(d),m=(r(28),r(27)),h=n(m),b=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),y=r(2),g=n(y),_=r(13),v=n(_),P=r(418),w=n(P),O=r(11),C=a(O),E=function(e,t,r){h["default"][e]({message:t,description:r})},k=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.abandon=r.abandon.bind(r),r.active=r.active.bind(r),r["delete"]=r["delete"].bind(r),r.cancel=r.cancel.bind(r),r.afterEdit=r.afterEdit.bind(r),r}return u(t,e),b(t,[{key:"active",value:function(e){var t=this;v["default"].ajax({type:"POST",url:C.DepartmentActive,dataType:"text",data:{id:e},success:function(e){"OK"===e.toString()?(t.props.afterState(),E("success","激活成功","激活成功，请进行后续操作")):E("error","激活失败",e.toString())},error:function(){E("error","请求错误","无法完成修改操作，请检查网络情况")}})}},{key:"abandon",value:function(e){var t=this;v["default"].ajax({type:"POST",url:C.DepartmentAbandon,dataType:"text",data:{id:e},success:function(e){"OK"===e.toString()?(t.props.afterState(),E("success","注销成功","注销成功，请进行后续操作")):E("error","注销失败",e.toString())},error:function(){E("error","请求错误","无法完成注销操作，请检查网络情况")}})}},{key:"delete",value:function(e){var t=this;v["default"].ajax({type:"POST",url:C.DepartmentDelete,dataType:"text",data:{id:e},success:function(e){"OK"===e.toString()?(t.props.afterDelete(),E("success","删除成功","删除成功，请进行后续操作")):E("error","删除失败",e.toString())},error:function(){E("error","请求错误","无法完成修改操作，请检查网络情况")}})}},{key:"afterEdit",value:function(){this.props.afterState()}},{key:"cancel",value:function(){f["default"].error("点击了取消")}},{key:"render",value:function(){var e=this,t=this.props,r=t.tableData,a=t.loading,n=[{title:"部门名称",dataIndex:"name",key:"name",width:150},{title:"部门编号",dataIndex:"number",key:"number",width:50},{title:"办公电话",dataIndex:"phone",key:"phone",width:150},{title:"邮政编码",dataIndex:"code",key:"code",width:150},{title:"办公地点",dataIndex:"address",key:"address",width:150},{title:"当前状态",dataIndex:"state",key:"state",width:50},{title:"操作",key:"operation",width:150,render:function(t,r){var a=[];return a.push(g["default"].createElement(w["default"],{departmentId:r.id,departmentName:r.name,departmentAddress:r.address,departmentPhone:r.phone,departmentState:r.state,departmentOther:r.other,departmentNumber:r.number,departmentCode:r.code,afterEdit:e.afterEdit})),a.push(g["default"].createElement("span",{className:"ant-divider"})),"激活"===r.state.toString()?(a.push(g["default"].createElement(c["default"],{title:"确定要注销部门<"+r.name+">？",okText:"注销",onConfirm:e.abandon.bind(e,r.id),onCancel:e.cancel},g["default"].createElement("a",{className:"btn btn-warning btn-xs"},"注销"))),a.push(g["default"].createElement("span",{className:"ant-divider"}))):"注销"===r.state.toString()?(a.push(g["default"].createElement(c["default"],{title:"确定要激活部门<"+r.name+">？",okText:"激活",onConfirm:e.active.bind(e,r.id),onCancel:e.cancel},g["default"].createElement("a",{className:"btn btn-success btn-xs"},"激活"))),a.push(g["default"].createElement("span",{className:"ant-divider"}))):a.push(g["default"].createElement("span",{className:"ant-divider"})),a.push(g["default"].createElement(c["default"],{title:"确定要删除部门<"+r.name+">？",okText:"删除",onConfirm:e["delete"].bind(e,r.id),onCancel:e.cancel},g["default"].createElement("a",{className:"btn btn-danger btn-xs"},"删除"))),a.push(g["default"].createElement("span",{className:"ant-divider"})),g["default"].createElement("span",null,a)}}];return g["default"].createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.3)"}},g["default"].createElement(s["default"],{scroll:{y:480},useFixedHeader:"true",rowKey:function(e){return e.id},columns:n,dataSource:r,loading:a,pagination:!1}))}}]),t}(g["default"].Component);t["default"]=k,k.propTypes={tableData:g["default"].PropTypes.array,afterState:g["default"].PropTypes.func,afterEdit:g["default"].PropTypes.func,afterDelete:g["default"].PropTypes.func,loading:g["default"].PropTypes.bool}},417:function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(r(37),r(47)),s=n(l),p=(r(48),r(42)),c=n(p),d=(r(46),r(45)),f=n(d),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},h=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),b=r(2),y=n(b),g=r(13),_=n(g),v=r(11),P=a(v),w=f["default"].Item,O=c["default"].Option,C=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.departmentNameCheck=r.departmentNameCheck.bind(r),r.departmentPhoneCheck=r.departmentPhoneCheck.bind(r),r.departmentAddressCheck=r.departmentAddressCheck.bind(r),r.departmentNumberCheck=r.departmentNumberCheck.bind(r),r.departmentCodeCheck=r.departmentCodeCheck.bind(r),r}return u(t,e),h(t,[{key:"departmentNameCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.DepartmentNames,dataType:"text",data:{name:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"departmentPhoneCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.DepartmentPhone,dataType:"text",data:{phone:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"departmentAddressCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.DepartmentAddress,dataType:"text",data:{address:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"departmentNumberCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.DepartmentNumbers,dataType:"text",data:{number:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"departmentCodeCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.DepartmentCode,dataType:"text",data:{code:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,r=e.getFieldError,a=e.isFieldValidating,n=this.props,o=n.departmentId,i=n.departmentName,u=n.departmentPhone,l=n.departmentAddress,p=n.departmentState,d=n.departmentOther,h=n.departmentNumber,b=n.departmentCode,g={labelCol:{span:6},wrapperCol:{span:14}};return y["default"].createElement(f["default"],{horizontal:!0},y["default"].createElement(w,m({label:""},g),t("departmentId",{initialValue:o})(y["default"].createElement(s["default"],{type:"hidden"}))),y["default"].createElement(w,m({label:"部门名称"},g,{hasFeedback:!0,required:!0,help:a("departmentName")?"校验中...":r("departmentName")||[]}),t("departmentName",{initialValue:i,rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.departmentNameCheck}]})(y["default"].createElement(s["default"],{placeholder:"请输入部门的中文全称"}))),y["default"].createElement(w,m({label:"部门编号"},g,{hasFeedback:!0,required:!0,help:a("departmentNumber")?"校验中...":r("departmentNumber")||[]}),t("departmentNumber",{initialValue:h,rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.departmentNumberCheck}]})(y["default"].createElement(s["default"],{placeholder:"请输入部门的编号"}))),y["default"].createElement(w,m({
label:"部门电话"},g,{hasFeedback:!0,required:!0,help:a("departmentPhone")?"校验中...":r("departmentPhone")||[]}),t("departmentPhone",{initialValue:u,rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.departmentPhoneCheck}]})(y["default"].createElement(s["default"],{placeholder:"请输入8位固定电话"}))),y["default"].createElement(w,m({label:"部门地址"},g,{hasFeedback:!0,required:!0,help:a("departmentAddress")?"校验中...":r("departmentAddress")||[]}),t("departmentAddress",{initialValue:l,rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.departmentAddressCheck}]})(y["default"].createElement(s["default"],{placeholder:"请输入详细地址"}))),y["default"].createElement(w,m({label:"邮政编码"},g,{hasFeedback:!0,required:!0,help:a("departmentCode")?"校验中...":r("departmentCode")||[]}),t("departmentCode",{initialValue:b,rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.departmentCodeCheck}]})(y["default"].createElement(s["default"],{placeholder:"请输入6位邮政编码"}))),y["default"].createElement(w,m({label:"部门状态"},g,{required:!0}),t("departmentState",{initialValue:p})(y["default"].createElement(c["default"],{size:"large",disabled:!0},y["default"].createElement(O,{value:"激活"},"激活"),y["default"].createElement(O,{value:"注销"},"注销")))),y["default"].createElement(w,m({label:"其他信息"},g,{hasFeedback:!0}),t("departmentOther",{initialValue:d})(y["default"].createElement(s["default"],{type:"textarea",rows:"3",placeholder:"其他需要填写的信息"}))))}}]),t}(y["default"].Component);C=f["default"].create({})(C),t["default"]=C,C.propTypes={form:y["default"].PropTypes.object,departmentId:y["default"].PropTypes.string,departmentName:y["default"].PropTypes.string,departmentAddress:y["default"].PropTypes.string,departmentPhone:y["default"].PropTypes.string,departmentFather:y["default"].PropTypes.string,departmentState:y["default"].PropTypes.string,departmentOther:y["default"].PropTypes.string,departmentNumber:y["default"].PropTypes.string,departmentCode:y["default"].PropTypes.string}},418:function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(r(62),r(61)),s=n(l),p=(r(35),r(29)),c=n(p),d=(r(28),r(27)),f=n(d),m=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),h=r(2),b=n(h),y=r(417),g=n(y),_=r(11),v=a(_),P=r(13),w=n(P),O=function(e,t,r){f["default"][e]({message:t,description:r})},C=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={visible:!1},r.showModal=r.showModal.bind(r),r.handleOk=r.handleOk.bind(r),r.handleCancel=r.handleCancel.bind(r),r.handleReset=r.handleReset.bind(r),r}return u(t,e),m(t,[{key:"showModal",value:function(){this.setState({visible:!0})}},{key:"handleOk",value:function(){var e=this;this.setState({confirmLoading:!0}),this.refs.EditForm.validateFields(function(t,r){return t?(O("error","录入错误","录入的信息中有错误，请核实后再更新"),void e.setState({confirmLoading:!1})):void w["default"].ajax({type:"POST",url:v.DepartmentEdit,dataType:"text",data:{id:r.departmentId,name:r.departmentName,phone:r.departmentPhone,address:r.departmentAddress,other:r.departmentOther||"",number:r.departmentNumber,code:r.departmentCode},success:function(t){"OK"===t.toString()?(e.setState({visible:!1,confirmLoading:!1}),e.props.afterEdit(),e.refs.EditForm.resetFields(),O("success","修改成功","修改成功，请进行后续操作")):(O("error","修改失败",t.toString()),e.setState({confirmLoading:!1}))},error:function(){O("error","请求错误","无法完成修改操作，请检查网络情况"),e.setState({confirmLoading:!1})}})})}},{key:"handleCancel",value:function(){this.refs.EditForm.resetFields(),this.setState({visible:!1})}},{key:"handleReset",value:function(){this.refs.EditForm.resetFields()}},{key:"render",value:function(){var e=this.props,t=e.departmentId,r=e.departmentName,a=e.departmentPhone,n=e.departmentAddress,o=e.departmentState,i=e.departmentOther,u=e.departmentNumber,l=e.departmentCode;return b["default"].createElement("span",null,b["default"].createElement("a",{onClick:this.showModal,className:"btn btn-primary btn-xs"},"修改"),b["default"].createElement(s["default"],{maskClosable:!1,title:"修改部门信息",visible:this.state.visible,onOk:this.handleOk,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,footer:[b["default"].createElement(c["default"],{key:"back",onClick:this.handleCancel},"返 回"),b["default"].createElement(c["default"],{key:"reset",type:"ghost",size:"large",onClick:this.handleReset},"重 置"),b["default"].createElement(c["default"],{key:"submit",type:"primary",size:"large",loading:this.state.loading,onClick:this.handleOk},"提 交")]},b["default"].createElement(g["default"],{ref:"EditForm",departmentId:t.toString(),departmentName:r,departmentAddress:n,departmentPhone:a,departmentState:o,departmentOther:i,departmentNumber:u,departmentCode:l})))}}]),t}(b["default"].Component);t["default"]=C,C.propTypes={departmentId:b["default"].PropTypes.string,departmentName:b["default"].PropTypes.string,departmentAddress:b["default"].PropTypes.string,departmentPhone:b["default"].PropTypes.string,departmentState:b["default"].PropTypes.string,departmentOther:b["default"].PropTypes.string,departmentNumber:b["default"].PropTypes.string,departmentCode:b["default"].PropTypes.string,afterEdit:b["default"].PropTypes.func}},419:function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(r(16),r(14)),s=n(l),p=(r(41),r(36)),c=n(p),d=(r(28),r(27)),f=n(d),m=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),h=r(2),b=n(h),y=r(416),g=n(y),_=r(415),v=n(_),P=r(414),w=n(P),O=r(412),C=n(O),E=r(11),k=a(E),S=r(13),T=n(S),D=r(86),j=n(D);r(928);var x=function(e,t,r){f["default"][e]({message:t,description:r})},N=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={DataTable:[],PageSize:"9",PageNumber:"1",DataCount:"0",DeptName:"",Loading:!0},r.getQuery=r.getQuery.bind(r),r.getDownload=r.getDownload.bind(r),r.resetPage=r.resetPage.bind(r),r.onShowSizeChange=r.onShowSizeChange.bind(r),r.onChange=r.onChange.bind(r),r.AfterAddAndDelete=r.AfterAddAndDelete.bind(r),r.AfterEditAndState=r.AfterEditAndState.bind(r),r}return u(t,e),m(t,[{key:"componentWillMount",value:function(){var e=this;T["default"].ajax({type:"POST",url:k.DepartmentQuery,dataType:"json",data:{PageNumber:"1",PageSize:"9",DeptName:""},success:function(t){e.setState({DataTable:t,PageNumber:"1",PageSize:"9",DeptName:""})},error:function(){x("error","请求错误","无法完成刷新列表，请检查网络情况")}}),T["default"].ajax({type:"POST",url:k.DepartmentCount,dataType:"text",data:{PageNumber:this.state.PageNumber,PageSize:this.state.PageSize,DeptName:this.state.DeptName},success:function(t){e.setState({Loading:!1,DataCount:t})},error:function(){x("error","请求错误","无法完成数据读取，请检查网络情况"),e.setState({Loading:!1,DataCount:"0"})}})}},{key:"onChange",value:function(e){var t=this;this.setState({Loading:!0}),T["default"].ajax({type:"POST",url:k.DepartmentQuery,dataType:"json",data:{PageNumber:e,PageSize:this.state.PageSize,DeptName:this.state.DeptName},success:function(r){t.setState({Loading:!1,DataTable:r,PageNumber:e})},error:function(){x("error","请求错误","无法完成刷新列表，请检查网络情况"),t.setState({DataTable:[]})}})}},{key:"onShowSizeChange",value:function(e,t){var r=this;this.setState({Loading:!0}),T["default"].ajax({type:"POST",url:k.DepartmentQuery,dataType:"json",data:{PageNumber:e,PageSize:t,DeptName:this.state.DeptName},success:function(a){r.setState({Loading:!1,DataTable:a,PageNumber:e,PageSize:t})},error:function(){x("error","请求错误","无法完成刷新列表，请检查网络情况"),r.setState({DataTable:[]})}})}},{key:"getQuery",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({Loading:!0}),T["default"].ajax({type:"POST",url:k.DepartmentQuery,dataType:"json",data:{PageNumber:"1",PageSize:this.state.PageSize,DeptName:t},success:function(r){e.setState({PageNumber:"1",DataTable:r,DeptName:t})},error:function(){x("error","请求错误","无法完成刷新列表，请检查网络情况"),e.setState({DataTable:[]})}}),T["default"].ajax({type:"POST",url:k.DepartmentCount,dataType:"text",data:{DeptName:t},success:function(t){e.setState({Loading:!1,DataCount:t})},error:function(){x("error","请求错误","无法完成数据读取，请检查网络情况"),e.setState({DataCount:"0"})}})}},{key:"getDownload",value:function(){T["default"].ajax({type:"POST",url:k.DepartmentDownload,dataType:"text",data:{DeptName:this.state.DeptName},success:function(e){"OK"===e.toString()?((0,T["default"])("#a").attr("href","/department/export"),document.getElementById("a").click()):x("error","导出失败","无法进行导出操作： "+e.toString())},error:function(){x("error","请求错误","无法读取数据，请检查网络情况")}})}},{key:"resetPage",value:function(){var e=this;this.setState({Loading:!0}),T["default"].ajax({type:"POST",url:k.DepartmentQuery,dataType:"json",data:{PageNumber:"1",PageSize:this.state.PageSize,DeptName:""},success:function(t){e.setState({DataTable:t,PageNumber:"1",PageSize:e.state.PageSize,DeptName:""})},error:function(){x("error","请求错误","无法完成刷新列表，请检查网络情况")}}),T["default"].ajax({type:"POST",url:k.DepartmentCount,dataType:"text",data:{PageNumber:"1",PageSize:"9",DeptName:""},success:function(t){e.setState({Loading:!1,DataCount:t})},error:function(){x("error","请求错误","无法完成数据读取，请检查网络情况"),e.setState({DataCount:"0"})}})}},{key:"AfterAddAndDelete",value:function(){var e=this;this.setState({Loading:!0}),T["default"].ajax({type:"POST",url:k.DepartmentQuery,dataType:"json",data:{PageNumber:"1",PageSize:this.state.PageSize,DeptName:""},success:function(t){e.setState({PageNumber:"1",DataTable:t,DeptName:""})},error:function(){x("error","请求错误","无法完成刷新列表，请检查网络情况"),e.setState({DataTable:[]})}}),T["default"].ajax({type:"POST",url:k.DepartmentCount,dataType:"text",data:{PageNumber:"1",PageSize:this.state.PageSize,DeptName:""},success:function(t){e.setState({Loading:!1,DataCount:t,PageNumber:"1",DeptName:""})},error:function(){x("error","请求错误","无法完成数据读取，请检查网络情况"),e.setState({DataCount:"0"})}})}},{key:"AfterEditAndState",value:function(){var e=this;this.setState({Loading:!0}),T["default"].ajax({type:"POST",url:k.DepartmentQuery,dataType:"json",data:{PageNumber:this.state.PageNumber,PageSize:this.state.PageSize,DeptName:this.state.DeptName},success:function(t){e.setState({Loading:!1,DataTable:t})},error:function(){x("error","请求错误","无法完成刷新列表，请检查网络情况"),e.setState({DataTable:[]})}})}},{key:"render",value:function(){return b["default"].createElement(j["default"],null,b["default"].createElement("div",{key:"a"},b["default"].createElement(s["default"],{type:"flex",justify:"start"},b["default"].createElement(c["default"],{span:6},b["default"].createElement(C["default"],{afterAdd:this.AfterAddAndDelete,deptName:this.state.DeptName})),b["default"].createElement(c["default"],{span:18},b["default"].createElement(v["default"],{setQuery:this.getQuery,resetPage:this.resetPage,getDownload:this.getDownload,deptName:this.state.DeptName})),b["default"].createElement("a",{id:"a",className:"aa"})),b["default"].createElement(s["default"],null,b["default"].createElement("span",{style:{"font-size":"5px"}},"   ")),b["default"].createElement(s["default"],null,b["default"].createElement(g["default"],{tableData:this.state.DataTable,loading:this.state.Loading,afterState:this.AfterEditAndState,afterDelete:this.AfterAddAndDelete})),b["default"].createElement(s["default"],null,b["default"].createElement("span",{style:{"font-size":"20px"}},"   ")),b["default"].createElement(s["default"],null,b["default"].createElement(w["default"],{PageNumber:this.state.PageNumber,onShowSizeChange:this.onShowSizeChange,onChange:this.onChange,DataCount:this.state.DataCount}))))}}]),t}(b["default"].Component);t["default"]=N},439:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(441),s=a(l),p=r(2),c=a(p),d=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.setMenuLabel=r.setMenuLabel.bind(r),r}return i(t,e),u(t,[{key:"setMenuLabel",value:function(e){this.props.menuLabel(e)}},{key:"render",value:function(){return c["default"].createElement(s["default"],{menuLabel:this.setMenuLabel})}}]),t}(c["default"].Component);t["default"]=d,d.propTypes={menuLabel:c["default"].PropTypes.func}},440:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(2),s=a(l),p=r(239),c=a(p),d=r(419),f=a(d),m=r(450),h=a(m),b=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=void 0;switch(this.props.menuFunctionType){case"Department":e=s["default"].createElement(f["default"],null);break;case"User":e=s["default"].createElement(h["default"],null);break;default:e=s["default"].createElement(c["default"],null)}return s["default"].createElement("div",null,e)}}]),t}(s["default"].Component);t["default"]=b,b.propTypes={menuFunctionType:s["default"].PropTypes.string}},441:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(r(232),r(231)),l=a(u),s=(r(229),r(51)),p=a(s),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=r(2),f=a(d),m=r(86),h=a(m),b=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={current:"1",openKeys:[]},r.onToggle=r.onToggle.bind(r),r.handleClick=r.handleClick.bind(r),r}return i(t,e),c(t,[{key:"componentDidMount",value:function(){console.log()}},{key:"onToggle",value:function(e){this.setState({openKeys:e.open?e.keyPath:e.keyPath.slice(1)})}},{key:"handleClick",value:function(e){this.setState({current:e.key,openKeys:e.keyPath.slice(1)}),this.props.menuLabel(e.key)}},{key:"render",value:function(){return f["default"].createElement(h["default"],{type:"left"},f["default"].createElement("div",{key:"sys"},f["default"].createElement(l["default"],{onClick:this.handleClick,style:{width:160},openKeys:this.state.openKeys,onOpen:this.onToggle,onClose:this.onToggle,selectedKeys:[this.state.current],mode:"inline"},f["default"].createElement(l["default"].Item,{key:"Department"},f["default"].createElement("span",null,f["default"].createElement(p["default"],{type:"laptop"}),"部门管理")),f["default"].createElement(l["default"].Item,{key:"User"},f["default"].createElement("span",null,f["default"].createElement(p["default"],{type:"user"}),"用户管理")))))}}]),t}(f["default"].Component);t["default"]=b,b.propTypes={menuLabel:f["default"].PropTypes.func}},442:function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(r(16),r(14)),s=n(l),p=(r(226),r(225)),c=n(p),d=(r(41),r(36)),f=n(d),m=(r(28),r(27)),h=n(m),b=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),y=r(240),g=n(y),_=r(2),v=n(_),P=r(11),w=a(P),O=r(13),C=n(O),E=function(e,t,r){h["default"][e]({message:t,description:r})},k=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={CurrentUser:"",CurrentDepartment:""},r}return u(t,e),b(t,[{key:"componentWillMount",value:function(){var e=this;C["default"].ajax({type:"POST",url:w.CurrentUser,dataType:"text",success:function(t){C["default"].ajax({type:"POST",url:w.CurrentDepartment,dataType:"text",success:function(r){(0,C["default"])("#b").attr("href","/logout"),e.setState({CurrentUser:t,CurrentDepartment:r})},error:function(){E("error","请求错误","无法读取当前用户所属部门，请检查网络情况")}})},error:function(){E("error","请求错误","无法读取当前用户，请检查网络情况")}})}},{key:"render",value:function(){return v["default"].createElement("div",null,v["default"].createElement(s["default"],{type:"flex",justify:"space-between",align:"bottom"},v["default"].createElement(f["default"],{span:12},v["default"].createElement(g["default"],{name:"档案管理系统后台"})),v["default"].createElement(f["default"],{span:4},v["default"].createElement(c["default"],{message:"当前用户： "+this.state.CurrentUser,type:"success",showIcon:!0})),v["default"].createElement(f["default"],{span:4},v["default"].createElement(c["default"],{message:"当前部门： "+this.state.CurrentDepartment,type:"info",showIcon:!0})),v["default"].createElement(f["default"],{span:2},v["default"].createElement("a",{id:"b"},v["default"].createElement(c["default"],{message:"退出",type:"warning",showIcon:!0}))),v["default"].createElement(f["default"],{span:2}," ")))}}]),t}(v["default"].Component);t["default"]=k},443:function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _css=__webpack_require__(16),_row=__webpack_require__(14),_row2=_interopRequireDefault(_row),_css2=__webpack_require__(62),_modal=__webpack_require__(61),_modal2=_interopRequireDefault(_modal),_css3=__webpack_require__(35),_button=__webpack_require__(29),_button2=_interopRequireDefault(_button),_css4=__webpack_require__(28),_notification=__webpack_require__(27),_notification2=_interopRequireDefault(_notification),_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_AddForm=__webpack_require__(444),_AddForm2=_interopRequireDefault(_AddForm),_AjaxFunction=__webpack_require__(11),AjaxFunction=_interopRequireWildcard(_AjaxFunction),_jquery=__webpack_require__(13),_jquery2=_interopRequireDefault(_jquery),openNotificationWithIcon=function(e,t,r){_notification2["default"][e]({message:t,description:r})},AddButton=function(_React$Component){function AddButton(e){_classCallCheck(this,AddButton);var t=_possibleConstructorReturn(this,(AddButton.__proto__||Object.getPrototypeOf(AddButton)).call(this,e));return t.state={visible:!1,DeptList:[],DeptCount:""},t.showModal=t.showModal.bind(t),t.handleOk=t.handleOk.bind(t),t.handleCancel=t.handleCancel.bind(t),t.handleReset=t.handleReset.bind(t),t}return _inherits(AddButton,_React$Component),_createClass(AddButton,[{key:"showModal",value:function showModal(){var _this2=this;_jquery2["default"].ajax({type:"POST",url:AjaxFunction.DepartmentList,dataType:"text",success:function success(DeptList){_jquery2["default"].ajax({type:"POST",url:AjaxFunction.DepartmentCount,dataType:"text",data:{DeptName:""},success:function success(DeptCount){_this2.setState({DeptList:eval("("+DeptList+")"),DeptCount:DeptCount,visible:!0})},error:function(){openNotificationWithIcon("error","请求错误","无法获取部门信息，请检查网络情况"),_this2.setState({DeptList:"",visible:!1})}})},error:function(){openNotificationWithIcon("error","请求错误","无法读取当前数据，请检查网络情况"),_this2.setState({Loading:!1})}})}},{key:"handleOk",value:function(){var e=this;this.setState({confirmLoading:!0}),this.refs.AddForm.validateFields(function(t,r){return t?(openNotificationWithIcon("error","录入错误","录入的信息中有错误，请核实后再更新"),void e.setState({confirmLoading:!1})):void _jquery2["default"].ajax({type:"POST",url:AjaxFunction.UserAdd,dataType:"text",data:{name:r.userName,number:r.userNumber,phone:r.userPhone,login:r.userLogin,state:r.userState,did:r.userDept,other:r.userOther||""},success:function(t){"OK"===t.toString()?(e.setState({visible:!1,confirmLoading:!1}),e.refs.AddForm.resetFields(),openNotificationWithIcon("success","保存成功",r.userName+"保存成功，请进行后续操作"),e.props.afterAdd()):(openNotificationWithIcon("error","保存失败","无法进行保存操作： "+t.toString()),e.setState({confirmLoading:!1}))},error:function(){openNotificationWithIcon("error","请求错误","无法完成新增操作，请检查网络情况"),e.setState({confirmLoading:!1})}})})}},{key:"handleCancel",value:function(){this.refs.AddForm.resetFields(),this.setState({visible:!1})}},{key:"handleReset",value:function(){this.refs.AddForm.resetFields()}},{key:"render",value:function(){return _react2["default"].createElement(_row2["default"],{type:"flex",justify:"start"},_react2["default"].createElement(_button2["default"],{type:"primary",size:"large",onClick:this.showModal},"新增用户"),_react2["default"].createElement(_modal2["default"],{maskClosable:!1,title:"新增用户",visible:this.state.visible,onOk:this.handleOk,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,footer:[_react2["default"].createElement(_button2["default"],{key:"back",onClick:this.handleCancel},"返 回"),_react2["default"].createElement(_button2["default"],{key:"reset",type:"ghost",size:"large",onClick:this.handleReset},"重 置"),_react2["default"].createElement(_button2["default"],{key:"submit",type:"primary",size:"large",loading:this.state.loading,onClick:this.handleOk},"提 交")]},_react2["default"].createElement(_AddForm2["default"],{ref:"AddForm",deptList:this.state.DeptList,deptCount:this.state.DeptCount})))}}]),AddButton}(_react2["default"].Component);exports["default"]=AddButton,AddButton.propTypes={afterAdd:_react2["default"].PropTypes.func}},444:function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(r(48),r(42)),s=n(l),p=(r(37),r(47)),c=n(p),d=(r(46),r(45)),f=n(d),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},h=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),b=r(2),y=n(b),g=r(13),_=n(g),v=r(11),P=a(v),w=f["default"].Item,O=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.userNameCheck=r.userNameCheck.bind(r),r.userNumberCheck=r.userNumberCheck.bind(r),r.userPhoneCheck=r.userPhoneCheck.bind(r),r.userLoginCheck=r.userLoginCheck.bind(r),r.userDeptCheck=r.userDeptCheck.bind(r),r}return u(t,e),h(t,[{key:"userNameCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.UserName,dataType:"text",data:{name:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"userNumberCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.UserNumber,dataType:"text",data:{number:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"userPhoneCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.UserPhone,dataType:"text",data:{phone:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"userLoginCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.UserLogin,dataType:"text",data:{login:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"userDeptCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.UserDept,dataType:"text",data:{dept:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"render",value:function(){for(var e=this.props.form,t=e.getFieldDecorator,r=e.getFieldError,a=e.isFieldValidating,n=[],o=0;o<this.props.deptCount;o++)n.push(y["default"].createElement(Option,{value:this.props.deptList[o][0]},this.props.deptList[o][1]));var i={labelCol:{span:6},wrapperCol:{span:14}};return y["default"].createElement(f["default"],{horizontal:!0},y["default"].createElement(w,m({label:"真实姓名"},i,{hasFeedback:!0,required:!0,help:a("userName")?"校验中...":r("userName")||[]}),t("userName",{rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.userNameCheck}]})(y["default"].createElement(c["default"],{placeholder:"请输入用户真实姓名"}))),y["default"].createElement(w,m({label:"证件号码"},i,{hasFeedback:!0,required:!0,help:a("userNumber")?"校验中...":r("userNumber")||[]}),t("userNumber",{rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.userNumberCheck}]})(y["default"].createElement(c["default"],{placeholder:"请输入用户证件号码",maxlength:"18"}))),y["default"].createElement(w,m({label:"联系电话"},i,{hasFeedback:!0,required:!0,help:a("userPhone")?"校验中...":r("userPhone")||[]}),t("userPhone",{rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.userPhoneCheck}]})(y["default"].createElement(c["default"],{placeholder:"请输入用户手机号码",maxlength:"11"}))),y["default"].createElement(w,m({label:"登录名称"},i,{hasFeedback:!0,required:!0,help:a("userLogin")?"校验中...":r("userLogin")||[]}),t("userLogin",{rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.userLoginCheck}]})(y["default"].createElement(c["default"],{placeholder:"请输入用户登录名称"}))),y["default"].createElement(w,m({label:"默认密码"},i,{hasFeedback:!0,required:!0}),y["default"].createElement(c["default"],{disabled:"true",value:"证件号码后8位"})),y["default"].createElement(w,m({label:"所属部门"},i,{required:!0,help:a("userDept")?"校验中...":r("userDept")||[]}),t("userDept",{rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.userDeptCheck}]})(y["default"].createElement(s["default"],{style:{width:150},placeholder:"请选择所属部门"},n))),y["default"].createElement(w,m({label:"用户状态"},i,{required:!0
}),t("userState",{initialValue:"激活"})(y["default"].createElement(s["default"],{size:"large"},y["default"].createElement(Option,{value:"激活"},"激活"),y["default"].createElement(Option,{value:"注销"},"注销")))),y["default"].createElement(w,m({label:"其他信息"},i,{hasFeedback:!0}),t("userOther")(y["default"].createElement(c["default"],{type:"textarea",rows:"3",placeholder:"其他需要填写的信息"}))))}}]),t}(y["default"].Component);O=f["default"].create({})(O),t["default"]=O,O.propTypes={form:y["default"].PropTypes.object,deptList:y["default"].PropTypes.array,deptCount:y["default"].PropTypes.string}},445:414,446:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(r(16),r(14)),l=a(u),s=(r(35),r(29)),p=a(s),c=(r(48),r(42)),d=a(c),f=(r(37),r(47)),m=a(f),h=(r(46),r(45)),b=a(h),y=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),g=r(2),_=a(g),v=b["default"].Item,P=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={userDept:""},r.handleSubmit=r.handleSubmit.bind(r),r.handleReset=r.handleReset.bind(r),r.onChangeDept=r.onChangeDept.bind(r),r.download=r.download.bind(r),r}return i(t,e),y(t,[{key:"onChangeDept",value:function(e){this.setState({userDept:e}),console.log("%c已选择第 "+e+"个部门","color:red")}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.setQuery(this.props.form.getFieldValue("userName"),this.state.userDept)}},{key:"handleReset",value:function(e){e.preventDefault(),this.props.form.resetFields(),this.props.resetPage()}},{key:"download",value:function(e){e.preventDefault(),this.props.getDownload()}},{key:"render",value:function(){for(var e=this.props.form.getFieldDecorator,t=[],r=0;r<this.props.deptCount;r++)t.push(_["default"].createElement(Option,{value:this.props.deptList[r][0]},this.props.deptList[r][1]));return _["default"].createElement(l["default"],{type:"flex",justify:"end"},_["default"].createElement(b["default"],{inline:!0,onSubmit:this.handleSubmit},_["default"].createElement(v,{label:"姓名："},e("userName")(_["default"].createElement(m["default"],{placeholder:"请输入用户真实姓名"}))),_["default"].createElement(v,{label:"部门："},e("userDept")(_["default"].createElement(d["default"],{onSelect:this.onChangeDept,showSearch:!0,allowClear:!0,style:{width:150},placeholder:"请输入所属部门"},t))),_["default"].createElement(p["default"],{type:"primary",htmlType:"submit"},"查找"),_["default"].createElement("span",null,"   "),_["default"].createElement(p["default"],{type:"ghost",onClick:this.handleReset},"重置"),_["default"].createElement("span",null,"   "),_["default"].createElement(p["default"],{onClick:this.download},"导出")))}}]),t}(_["default"].Component);P=b["default"].create({})(P),t["default"]=P,P.propTypes={setQuery:_["default"].PropTypes.func,resetPage:_["default"].PropTypes.func,getDownload:_["default"].PropTypes.func,userName:_["default"].PropTypes.string,userDept:_["default"].PropTypes.string,deptList:_["default"].PropTypes.array,deptCount:_["default"].PropTypes.string,form:_["default"].PropTypes.object}},447:function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(r(128),r(127)),s=n(l),p=(r(235),r(234)),c=n(p),d=(r(126),r(125)),f=n(d),m=(r(28),r(27)),h=n(m),b=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),y=r(2),g=n(y),_=r(13),v=n(_),P=r(449),w=n(P),O=r(11),C=a(O),E=function(e,t,r){h["default"][e]({message:t,description:r})},k=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.abandon=r.abandon.bind(r),r.active=r.active.bind(r),r["delete"]=r["delete"].bind(r),r.cancel=r.cancel.bind(r),r.resetPass=r.resetPass.bind(r),r.afterEdit=r.afterEdit.bind(r),r}return u(t,e),b(t,[{key:"active",value:function(e){var t=this;v["default"].ajax({type:"POST",url:C.UserActive,dataType:"text",data:{id:e},success:function(e){"OK"===e.toString()?(t.props.afterState(),E("success","激活成功","激活成功，请进行后续操作")):E("error","激活失败",e.toString())},error:function(){E("error","请求错误","无法完成修改操作，请检查网络情况")}})}},{key:"abandon",value:function(e){var t=this;v["default"].ajax({type:"POST",url:C.UserAbandon,dataType:"text",data:{id:e},success:function(e){"OK"===e.toString()?(t.props.afterState(),E("success","注销成功","注销成功，请进行后续操作")):E("error","注销失败",e.toString())},error:function(){E("error","请求错误","无法完成注销操作，请检查网络情况")}})}},{key:"resetPass",value:function(e){var t=this;v["default"].ajax({type:"POST",url:C.UserReset,dataType:"text",data:{id:e},success:function(e){"OK"===e.toString()?(t.props.afterDelete(),E("success","重置成功","重置成功，请进行后续操作")):E("error","重置失败",e.toString())},error:function(){E("error","请求错误","无法完成修改操作，请检查网络情况")}})}},{key:"delete",value:function(e){var t=this;v["default"].ajax({type:"POST",url:C.UserDelete,dataType:"text",data:{id:e},success:function(e){"OK"===e.toString()?(t.props.afterDelete(),E("success","删除成功","删除成功，请进行后续操作")):E("error","删除失败",e.toString())},error:function(){E("error","请求错误","无法完成修改操作，请检查网络情况")}})}},{key:"afterEdit",value:function(){this.props.afterState()}},{key:"cancel",value:function(){f["default"].error("点击了取消")}},{key:"render",value:function(){var e=this,t=this.props,r=t.tableData,a=t.loading,n=[{title:"用户名称",dataIndex:"name",key:"name",width:100},{title:"所属部门",dataIndex:"dname",key:"dname",width:100},{title:"联系电话",dataIndex:"phone",key:"phone",width:100},{title:"当前状态",dataIndex:"state",key:"state",width:100},{title:"操作",key:"operation",width:150,render:function(t,r){var a=[];return a.push(g["default"].createElement(w["default"],{userId:r.id,userName:r.name,userNumber:r.number,userPhone:r.phone,userState:r.state,userOther:r.other,userDid:r.did,userLogin:r.login,afterEdit:e.afterEdit})),a.push(g["default"].createElement("span",{className:"ant-divider"})),"激活"===r.state.toString()?(a.push(g["default"].createElement(c["default"],{title:"确定要注销用户<"+r.name+">？",okText:"注销",onConfirm:e.abandon.bind(e,r.id),onCancel:e.cancel},g["default"].createElement("a",{className:"btn btn-warning btn-xs"},"注销"))),a.push(g["default"].createElement("span",{className:"ant-divider"}))):"注销"===r.state.toString()?(a.push(g["default"].createElement(c["default"],{title:"确定要激活用户<"+r.name+">？",okText:"激活",onConfirm:e.active.bind(e,r.id),onCancel:e.cancel},g["default"].createElement("a",{className:"btn btn-success btn-xs"},"激活"))),a.push(g["default"].createElement("span",{className:"ant-divider"}))):a.push(g["default"].createElement("span",{className:"ant-divider"})),a.push(g["default"].createElement(c["default"],{title:"确定要删除用户<"+r.name+">？",okText:"删除",onConfirm:e["delete"].bind(e,r.id),onCancel:e.cancel},g["default"].createElement("a",{className:"btn btn-danger btn-xs"},"删除"))),a.push(g["default"].createElement("span",{className:"ant-divider"})),a.push(g["default"].createElement(c["default"],{title:"确定要重置用户<"+r.name+">的密码吗？",okText:"重置",onConfirm:e.resetPass.bind(e,r.id),onCancel:e.cancel},g["default"].createElement("a",{className:"btn btn-link btn-xs"},"密码重置"))),a.push(g["default"].createElement("span",{className:"ant-divider"})),g["default"].createElement("span",null,a)}}];return g["default"].createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.3)"}},g["default"].createElement(s["default"],{scroll:{y:480},useFixedHeader:"true",rowKey:function(e){return e.id},columns:n,dataSource:r,loading:a,pagination:!1}))}}]),t}(g["default"].Component);t["default"]=k,k.propTypes={tableData:g["default"].PropTypes.array,afterState:g["default"].PropTypes.func,afterEdit:g["default"].PropTypes.func,afterDelete:g["default"].PropTypes.func,DeptList:g["default"].PropTypes.array,DeptCount:g["default"].PropTypes.string,loading:g["default"].PropTypes.bool}},448:function(e,t,r){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(r(37),r(47)),s=n(l),p=(r(48),r(42)),c=n(p),d=(r(46),r(45)),f=n(d),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},h=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),b=r(2),y=n(b),g=r(13),_=n(g),v=r(11),P=a(v),w=f["default"].Item,O=c["default"].Option,C=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.userNameCheck=r.userNameCheck.bind(r),r.userNumberCheck=r.userNumberCheck.bind(r),r.userPhoneCheck=r.userPhoneCheck.bind(r),r.userLoginCheck=r.userLoginCheck.bind(r),r}return u(t,e),h(t,[{key:"userNameCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.UserName,dataType:"text",data:{name:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"userNumberCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.UserNumber,dataType:"text",data:{number:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"userPhoneCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.UserPhone,dataType:"text",data:{phone:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"userLoginCheck",value:function(e,t,r){t?_["default"].ajax({type:"POST",url:P.UserLogins,dataType:"text",data:{login:t},success:function(e){"OK"===e.toString()?r():r(new Error(e.toString()))},error:function(){r(new Error("无法执行后台验证，请重试"))}}):r()}},{key:"render",value:function(){for(var e=this.props.form,t=e.getFieldDecorator,r=e.getFieldError,a=e.isFieldValidating,n=this.props,o=n.userId,i=n.userName,u=n.userNumber,l=n.userPhone,p=n.userLogin,d=n.userState,h=n.userOther,b=n.userDept,g=[],_=0;_<this.props.deptCount;_++)g.push(y["default"].createElement(O,{value:this.props.deptList[_][0]},this.props.deptList[_][1]));var v={labelCol:{span:6},wrapperCol:{span:14}};return y["default"].createElement(f["default"],{horizontal:!0},y["default"].createElement(w,m({label:""},v),t("userId",{initialValue:o})(y["default"].createElement(s["default"],{type:"hidden"}))),y["default"].createElement(w,m({label:"真实姓名"},v,{hasFeedback:!0,required:!0,help:a("userName")?"校验中...":r("userName")||[]}),t("userName",{initialValue:i,rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.userDeptCheck}]})(y["default"].createElement(s["default"],{placeholder:"请输入用户真实姓名"}))),y["default"].createElement(w,m({label:"证件号码"},v,{hasFeedback:!0,required:!0,help:a("userNumber")?"校验中...":r("userNumber")||[]}),t("userNumber",{initialValue:u,rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.userNumberCheck}]})(y["default"].createElement(s["default"],{placeholder:"请输入用户证件号码"}))),y["default"].createElement(w,m({label:"联系电话"},v,{hasFeedback:!0,required:!0,help:a("userPhone")?"校验中...":r("userPhone")||[]}),t("userPhone",{initialValue:l,rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.userPhoneCheck}]})(y["default"].createElement(s["default"],{placeholder:"请输入用户手机号码"}))),y["default"].createElement(w,m({label:"登录名称"},v,{hasFeedback:!0,required:!0,help:a("userLogin")?"校验中...":r("userLogin")||[]}),t("userLogin",{initialValue:p,rules:[{required:!0,whitespace:!0,message:"必填项"},{validator:this.userLoginCheck}]})(y["default"].createElement(s["default"],{placeholder:"请输入用户登录名称"}))),y["default"].createElement(w,m({label:"所属部门"},v,{required:!0}),t("userDid",{initialValue:b,rules:[{required:!0,whitespace:!0,message:"必填项"}]})(y["default"].createElement(c["default"],{style:{width:150},placeholder:"请选择所属部门"},g))),y["default"].createElement(w,m({label:"用户状态"},v,{required:!0}),t("userState",{initialValue:d})(y["default"].createElement(c["default"],{size:"large",disabled:!0},y["default"].createElement(O,{value:"激活"},"激活"),y["default"].createElement(O,{value:"注销"},"注销")))),y["default"].createElement(w,m({label:"其他信息"},v,{hasFeedback:!0}),t("userOther",{initialValue:h})(y["default"].createElement(s["default"],{type:"textarea",rows:"3",placeholder:"其他需要填写的信息"}))))}}]),t}(y["default"].Component);C=f["default"].create({})(C),t["default"]=C,C.propTypes={form:y["default"].PropTypes.object,userId:y["default"].PropTypes.string,userName:y["default"].PropTypes.string,userNumber:y["default"].PropTypes.string,userPhone:y["default"].PropTypes.string,userLogin:y["default"].PropTypes.string,userDid:y["default"].PropTypes.string,userDept:y["default"].PropTypes.string,userState:y["default"].PropTypes.string,userOther:y["default"].PropTypes.string,deptList:y["default"].PropTypes.array,deptCount:y["default"].PropTypes.string}},449:function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _css=__webpack_require__(62),_modal=__webpack_require__(61),_modal2=_interopRequireDefault(_modal),_css2=__webpack_require__(35),_button=__webpack_require__(29),_button2=_interopRequireDefault(_button),_css3=__webpack_require__(28),_notification=__webpack_require__(27),_notification2=_interopRequireDefault(_notification),_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_EditForm=__webpack_require__(448),_EditForm2=_interopRequireDefault(_EditForm),_AjaxFunction=__webpack_require__(11),AjaxFunction=_interopRequireWildcard(_AjaxFunction),_jquery=__webpack_require__(13),_jquery2=_interopRequireDefault(_jquery),openNotificationWithIcon=function(e,t,r){_notification2["default"][e]({message:t,description:r})},EditLink=function(_React$Component){function EditLink(e){_classCallCheck(this,EditLink);var t=_possibleConstructorReturn(this,(EditLink.__proto__||Object.getPrototypeOf(EditLink)).call(this,e));return t.state={visible:!1,DeptList:[],DeptCount:"",UserDept:""},t.showModal=t.showModal.bind(t),t.handleOk=t.handleOk.bind(t),t.handleCancel=t.handleCancel.bind(t),t.handleReset=t.handleReset.bind(t),t}return _inherits(EditLink,_React$Component),_createClass(EditLink,[{key:"showModal",value:function showModal(){var _this2=this;_jquery2["default"].ajax({type:"POST",url:AjaxFunction.DepartmentList,dataType:"text",success:function success(DeptList){_jquery2["default"].ajax({type:"POST",url:AjaxFunction.DepartmentCount,dataType:"text",data:{DeptName:""},success:function success(DeptCount){_jquery2["default"].ajax({type:"POST",url:AjaxFunction.DeptNow,dataType:"text",data:{did:_this2.props.userDid},success:function success(UserDept){_this2.setState({visible:!0,DeptList:eval("("+DeptList+")"),DeptCount:DeptCount,UserDept:UserDept})},error:function(){openNotificationWithIcon("error","请求错误","无法获取当前部门信息，请检查网络情况")}})},error:function(){openNotificationWithIcon("error","请求错误","无法获取部门总数，请检查网络情况"),_this2.setState({DeptList:"",DeptCount:"",userDept:"",visible:!1})}})},error:function(){openNotificationWithIcon("error","请求错误","无法获取部门列表，请检查网络情况"),_this2.setState({DeptList:"",DeptCount:"",userDept:"",visible:!1})}})}},{key:"handleOk",value:function(){var e=this;this.setState({confirmLoading:!0}),this.refs.EditForm.validateFields(function(t,r){return t?(openNotificationWithIcon("error","录入错误","录入的信息中有错误，请核实后再更新"),void e.setState({confirmLoading:!1})):void _jquery2["default"].ajax({type:"POST",url:AjaxFunction.UserEdit,dataType:"text",data:{id:r.userId,name:r.userName,phone:r.userPhone,number:r.userNumber,login:r.userLogin,other:r.userOther||"",did:r.userDid},success:function(t){"OK"===t.toString()?(e.setState({visible:!1,confirmLoading:!1}),e.props.afterEdit(),e.refs.EditForm.resetFields(),openNotificationWithIcon("success","修改成功","修改成功，请进行后续操作")):(openNotificationWithIcon("error","修改失败",t.toString()),e.setState({confirmLoading:!1}))},error:function(){openNotificationWithIcon("error","请求错误","无法完成修改操作，请检查网络情况"),e.setState({confirmLoading:!1})}})})}},{key:"handleCancel",value:function(){this.refs.EditForm.resetFields(),this.setState({visible:!1})}},{key:"handleReset",value:function(){this.refs.EditForm.resetFields()}},{key:"render",value:function(){var e=this.props,t=e.userId,r=e.userName,a=e.userPhone,n=e.userNumber,o=e.userState,i=e.userOther,u=e.userLogin,l=e.userDid;return _react2["default"].createElement("span",null,_react2["default"].createElement("a",{onClick:this.showModal,className:"btn btn-primary btn-xs"},"修改"),_react2["default"].createElement(_modal2["default"],{maskClosable:!1,title:"修改用户信息",visible:this.state.visible,onOk:this.handleOk,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,footer:[_react2["default"].createElement(_button2["default"],{key:"back",onClick:this.handleCancel},"返 回"),_react2["default"].createElement(_button2["default"],{key:"reset",type:"ghost",size:"large",onClick:this.handleReset},"重 置"),_react2["default"].createElement(_button2["default"],{key:"submit",type:"primary",size:"large",loading:this.state.loading,onClick:this.handleOk},"提 交")]},_react2["default"].createElement(_EditForm2["default"],{ref:"EditForm",userId:t.toString(),userName:r,userNumber:n,userPhone:a,userState:o,userOther:i,userLogin:u,userDid:l,userDept:this.state.UserDept,deptList:this.state.DeptList,deptCount:this.state.DeptCount})))}}]),EditLink}(_react2["default"].Component);exports["default"]=EditLink,EditLink.propTypes={userId:_react2["default"].PropTypes.string,userName:_react2["default"].PropTypes.string,userNumber:_react2["default"].PropTypes.string,userPhone:_react2["default"].PropTypes.string,userState:_react2["default"].PropTypes.string,userOther:_react2["default"].PropTypes.string,userDid:_react2["default"].PropTypes.string,userLogin:_react2["default"].PropTypes.string,userDept:_react2["default"].PropTypes.string,deptList:_react2["default"].PropTypes.string,deptCount:_react2["default"].PropTypes.string,afterEdit:_react2["default"].PropTypes.func}},450:function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _css=__webpack_require__(16),_row=__webpack_require__(14),_row2=_interopRequireDefault(_row),_css2=__webpack_require__(41),_col=__webpack_require__(36),_col2=_interopRequireDefault(_col),_css3=__webpack_require__(28),_notification=__webpack_require__(27),_notification2=_interopRequireDefault(_notification),_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_react=__webpack_require__(2),_react2=_interopRequireDefault(_react),_DataTable=__webpack_require__(447),_DataTable2=_interopRequireDefault(_DataTable),_DataSearch=__webpack_require__(446),_DataSearch2=_interopRequireDefault(_DataSearch),_DataPagination=__webpack_require__(445),_DataPagination2=_interopRequireDefault(_DataPagination),_AddButton=__webpack_require__(443),_AddButton2=_interopRequireDefault(_AddButton),_AjaxFunction=__webpack_require__(11),AjaxFunction=_interopRequireWildcard(_AjaxFunction),_jquery=__webpack_require__(13),_jquery2=_interopRequireDefault(_jquery),_rcQueueAnim=__webpack_require__(86),_rcQueueAnim2=_interopRequireDefault(_rcQueueAnim),openNotificationWithIcon=function(e,t,r){_notification2["default"][e]({message:t,description:r})},User=function(_React$Component){function User(e){_classCallCheck(this,User);var t=_possibleConstructorReturn(this,(User.__proto__||Object.getPrototypeOf(User)).call(this,e));return t.state={DataTable:[],PageSize:"9",PageNumber:"1",DataCount:"0",DeptCount:"",UserName:"",UserDept:"",DeptList:[],Loading:!0},t.getQuery=t.getQuery.bind(t),t.getDownload=t.getDownload.bind(t),t.resetPage=t.resetPage.bind(t),t.onShowSizeChange=t.onShowSizeChange.bind(t),t.onChange=t.onChange.bind(t),t.AfterAddAndDelete=t.AfterAddAndDelete.bind(t),t.AfterEditAndState=t.AfterEditAndState.bind(t),t}return _inherits(User,_React$Component),_createClass(User,[{key:"componentWillMount",value:function componentWillMount(){var _this2=this;_jquery2["default"].ajax({type:"POST",url:AjaxFunction.DepartmentList,dataType:"text",success:function success(DeptList){_jquery2["default"].ajax({type:"POST",url:AjaxFunction.DepartmentCount,dataType:"text",data:{DeptName:""},success:function success(DeptCount){_jquery2["default"].ajax({type:"POST",url:AjaxFunction.UserQuery,dataType:"json",data:{PageNumber:"1",PageSize:"9",UserName:"",UserDept:""},success:function success(dataTable){_jquery2["default"].ajax({type:"POST",url:AjaxFunction.UserCount,dataType:"text",data:{PageNumber:"1",PageSize:"9",UserName:"",UserDept:""},success:function success(DataCount){_this2.setState({Loading:!1,DataCount:DataCount,DeptCount:DeptCount,DataTable:dataTable,PageNumber:"1",PageSize:"9",UserName:"",UserDept:"",DeptList:eval("("+DeptList+")")})},error:function(){openNotificationWithIcon("error","请求错误","无法读取数据总数，请检查网络情况"),_this2.setState({Loading:!1})}})},error:function(){openNotificationWithIcon("error","请求错误","无法读取当前数据，请检查网络情况"),_this2.setState({Loading:!1})}})},error:function(){openNotificationWithIcon("error","请求错误","无法读取部门信息，请检查网络情况"),_this2.setState({Loading:!1})}})},error:function(){openNotificationWithIcon("error","请求错误","无法读取部门总数，请检查网络情况"),_this2.setState({Loading:!1})}})}},{key:"onChange",value:function(e){var t=this;this.setState({Loading:!0}),_jquery2["default"].ajax({type:"POST",url:AjaxFunction.UserQuery,dataType:"json",data:{PageNumber:e,PageSize:this.state.PageSize,UserName:this.state.UserName,UserDept:this.state.UserDept},success:function(r){t.setState({Loading:!1,DataTable:r,PageNumber:e})},error:function(){openNotificationWithIcon("error","请求错误","无法完成刷新列表，请检查网络情况"),t.setState({DataTable:[]})}})}},{key:"onShowSizeChange",value:function(e,t){var r=this;this.setState({Loading:!0}),_jquery2["default"].ajax({type:"POST",url:AjaxFunction.UserQuery,dataType:"json",data:{PageNumber:e,PageSize:t,UserName:this.state.UserName,UserDept:this.state.UserDept},success:function(a){r.setState({Loading:!1,DataTable:a,PageNumber:e,PageSize:t})},error:function(){openNotificationWithIcon("error","请求错误","无法完成刷新列表，请检查网络情况"),r.setState({DataTable:[]})}})}},{key:"getQuery",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.setState({Loading:!0}),_jquery2["default"].ajax({type:"POST",url:AjaxFunction.UserQuery,dataType:"json",data:{PageNumber:"1",PageSize:this.state.PageSize,UserName:t,UserDept:r},success:function(a){e.setState({PageNumber:"1",DataTable:a,UserName:t,UserDept:r})},error:function(){openNotificationWithIcon("error","请求错误","无法完成刷新列表，请检查网络情况"),e.setState({DataTable:[]})}}),_jquery2["default"].ajax({type:"POST",url:AjaxFunction.UserCount,dataType:"text",data:{UserName:t,UserDept:r},success:function(t){e.setState({Loading:!1,DataCount:t})},error:function(){openNotificationWithIcon("error","请求错误","无法完成数据读取，请检查网络情况"),e.setState({DataCount:"0"})}})}},{key:"getDownload",value:function(){_jquery2["default"].ajax({type:"POST",url:AjaxFunction.UserDownload,dataType:"text",data:{UserName:this.state.UserName,UserDept:this.state.UserDept},success:function(e){"OK"===e.toString()?((0,_jquery2["default"])("#a").attr("href","/user/export"),document.getElementById("a").click()):openNotificationWithIcon("error","导出失败","无法进行导出操作： "+e.toString())},error:function(){openNotificationWithIcon("error","请求错误","无法读取数据，请检查网络情况")}})}},{key:"resetPage",value:function(){var e=this;this.setState({Loading:!0}),_jquery2["default"].ajax({type:"POST",url:AjaxFunction.UserQuery,dataType:"json",data:{PageNumber:"1",PageSize:this.state.PageSize,UserName:"",UserDept:""},success:function(t){e.setState({DataTable:t,PageNumber:"1",PageSize:e.state.PageSize,UserName:"",UserDept:""})},error:function(){openNotificationWithIcon("error","请求错误","无法完成刷新列表，请检查网络情况")}}),_jquery2["default"].ajax({type:"POST",url:AjaxFunction.UserCount,dataType:"text",data:{PageNumber:"1",PageSize:"9",UserName:"",UserDept:""},success:function(t){e.setState({Loading:!1,DataCount:t})},error:function(){openNotificationWithIcon("error","请求错误","无法完成数据读取，请检查网络情况"),e.setState({DataCount:"0"})}})}},{key:"AfterAddAndDelete",value:function(){var e=this;this.setState({Loading:!0}),_jquery2["default"].ajax({type:"POST",url:AjaxFunction.UserQuery,dataType:"json",data:{PageNumber:"1",PageSize:this.state.PageSize,UserName:"",UserDept:""},success:function(t){e.setState({PageNumber:"1",DataTable:t,UserName:"",UserDept:""})},error:function(){openNotificationWithIcon("error","请求错误","无法完成刷新列表，请检查网络情况"),e.setState({DataTable:[]})}}),_jquery2["default"].ajax({type:"POST",url:AjaxFunction.UserCount,dataType:"text",data:{PageNumber:"1",PageSize:this.state.PageSize,UserName:"",UserDept:""},success:function(t){e.setState({Loading:!1,DataCount:t,PageNumber:"1",UserName:"",UserDept:""})},error:function(){openNotificationWithIcon("error","请求错误","无法完成数据读取，请检查网络情况"),e.setState({DataCount:"0"})}})}},{key:"AfterEditAndState",value:function(){var e=this;this.setState({Loading:!0}),_jquery2["default"].ajax({type:"POST",url:AjaxFunction.UserQuery,dataType:"json",data:{PageNumber:this.state.PageNumber,PageSize:this.state.PageSize,UserName:this.state.UserName,UserDept:this.state.UserDept},success:function(t){e.setState({Loading:!1,DataTable:t})},error:function(){openNotificationWithIcon("error","请求错误","无法完成刷新列表，请检查网络情况"),e.setState({DataTable:[]})}})}},{key:"render",value:function(){return _react2["default"].createElement(_rcQueueAnim2["default"],null,_react2["default"].createElement("div",{key:"a"},_react2["default"].createElement(_row2["default"],{type:"flex",justify:"start"},_react2["default"].createElement(_col2["default"],{span:6},_react2["default"].createElement(_AddButton2["default"],{afterAdd:this.AfterAddAndDelete,deptList:this.state.DeptList,deptCount:this.state.DeptCount})),_react2["default"].createElement(_col2["default"],{span:18},_react2["default"].createElement(_DataSearch2["default"],{setQuery:this.getQuery,resetPage:this.resetPage,deptList:this.state.DeptList,userName:this.state.UserName,userDept:this.state.UserDept,deptCount:this.state.DeptCount,getDownload:this.getDownload})),_react2["default"].createElement("a",{id:"a",className:"aa"})),_react2["default"].createElement(_row2["default"],null,_react2["default"].createElement("span",{style:{"font-size":"5px"}},"   ")),_react2["default"].createElement(_row2["default"],null,_react2["default"].createElement(_DataTable2["default"],{tableData:this.state.DataTable,loading:this.state.Loading,afterState:this.AfterEditAndState,afterDelete:this.AfterAddAndDelete,deptList:this.state.DeptList,deptCount:this.state.DeptCount})),_react2["default"].createElement(_row2["default"],null,_react2["default"].createElement("span",{style:{"font-size":"20px"}},"   ")),_react2["default"].createElement(_row2["default"],null,_react2["default"].createElement(_DataPagination2["default"],{PageNumber:this.state.PageNumber,onShowSizeChange:this.onShowSizeChange,onChange:this.onChange,DataCount:this.state.DataCount}))))}}]),User}(_react2["default"].Component);exports["default"]=User},519:function(e,t,r){t=e.exports=r(22)(),t.push([e.id,'.ant-popover{position:absolute;top:0;left:0;z-index:1030;cursor:auto;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;white-space:normal;font-size:12px;line-height:1.5;font-weight:400;text-align:left}.ant-popover:after{content:"";position:absolute;background:hsla(0,0%,100%,.01)}.ant-popover-hidden{display:none}.ant-popover-placement-top,.ant-popover-placement-topLeft,.ant-popover-placement-topRight{padding-bottom:4px}.ant-popover-placement-right,.ant-popover-placement-rightBottom,.ant-popover-placement-rightTop{padding-left:4px}.ant-popover-placement-bottom,.ant-popover-placement-bottomLeft,.ant-popover-placement-bottomRight{padding-top:4px}.ant-popover-placement-left,.ant-popover-placement-leftBottom,.ant-popover-placement-leftTop{padding-right:4px}.ant-popover-inner{min-width:177px;background-color:#fff;background-clip:padding-box;border-radius:6px;box-shadow:0 1px 6px rgba(0,0,0,.2)}.ant-popover-title{margin:0;padding:0 16px;line-height:32px;height:32px;border-bottom:1px solid #e9e9e9;color:#666}.ant-popover-inner-content{padding:8px 16px;color:#666}.ant-popover-message{padding:8px 0 16px;font-size:12px;color:#666}.ant-popover-message>.anticon{color:#fa0;line-height:17px;position:absolute}.ant-popover-message-title{padding-left:20px}.ant-popover-buttons{text-align:right;margin-bottom:8px}.ant-popover-buttons button{margin-left:8px}.ant-popover-arrow,.ant-popover-arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.ant-popover-arrow{border-width:5px}.ant-popover-arrow:after{border-width:4px;content:""}.ant-popover-placement-top .ant-popover-arrow,.ant-popover-placement-topLeft .ant-popover-arrow,.ant-popover-placement-topRight .ant-popover-arrow{border-bottom-width:0;border-top-color:hsla(0,0%,85%,.7);bottom:-1px}.ant-popover-placement-top .ant-popover-arrow:after,.ant-popover-placement-topLeft .ant-popover-arrow:after,.ant-popover-placement-topRight .ant-popover-arrow:after{content:" ";bottom:1px;margin-left:-4px;border-bottom-width:0;border-top-color:#fff}.ant-popover-placement-top .ant-popover-arrow{left:50%;margin-left:-5px}.ant-popover-placement-topLeft .ant-popover-arrow{left:16px}.ant-popover-placement-topRight .ant-popover-arrow{right:16px}.ant-popover-placement-right .ant-popover-arrow,.ant-popover-placement-rightBottom .ant-popover-arrow,.ant-popover-placement-rightTop .ant-popover-arrow{left:-1px;border-left-width:0;border-right-color:hsla(0,0%,85%,.7)}.ant-popover-placement-right .ant-popover-arrow:after,.ant-popover-placement-rightBottom .ant-popover-arrow:after,.ant-popover-placement-rightTop .ant-popover-arrow:after{content:" ";left:1px;bottom:-4px;border-left-width:0;border-right-color:#fff}.ant-popover-placement-right .ant-popover-arrow{top:50%;margin-top:-5px}.ant-popover-placement-rightTop .ant-popover-arrow{top:12px}.ant-popover-placement-rightBottom .ant-popover-arrow{bottom:12px}.ant-popover-placement-bottom .ant-popover-arrow,.ant-popover-placement-bottomLeft .ant-popover-arrow,.ant-popover-placement-bottomRight .ant-popover-arrow{border-top-width:0;border-bottom-color:hsla(0,0%,85%,.7);top:-1px}.ant-popover-placement-bottom .ant-popover-arrow:after,.ant-popover-placement-bottomLeft .ant-popover-arrow:after,.ant-popover-placement-bottomRight .ant-popover-arrow:after{content:" ";top:1px;margin-left:-4px;border-top-width:0;border-bottom-color:#fff}.ant-popover-placement-bottom .ant-popover-arrow{left:50%;margin-left:-5px}.ant-popover-placement-bottomLeft .ant-popover-arrow{left:16px}.ant-popover-placement-bottomRight .ant-popover-arrow{right:16px}.ant-popover-placement-left .ant-popover-arrow,.ant-popover-placement-leftBottom .ant-popover-arrow,.ant-popover-placement-leftTop .ant-popover-arrow{right:-1px;border-right-width:0;border-left-color:hsla(0,0%,85%,.7)}.ant-popover-placement-left .ant-popover-arrow:after,.ant-popover-placement-leftBottom .ant-popover-arrow:after,.ant-popover-placement-leftTop .ant-popover-arrow:after{content:" ";right:1px;border-right-width:0;border-left-color:#fff;bottom:-4px}.ant-popover-placement-left .ant-popover-arrow{top:50%;margin-top:-5px}.ant-popover-placement-leftTop .ant-popover-arrow{top:12px}.ant-popover-placement-leftBottom .ant-popover-arrow{bottom:12px}',""]);
},525:function(e,t,r){t=e.exports=r(22)(),t.push([e.id,".a{font-size:50px;color:green}.aa,.c{display:none}.pageStyle{background-image:url("+r(929)+");background-repeat:repeat}",""])},834:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i=r(2),u=a(i),l=r(302),s=r(195),p=a(s),c=u["default"].createClass({displayName:"Tooltip",propTypes:{trigger:i.PropTypes.any,children:i.PropTypes.any,defaultVisible:i.PropTypes.bool,visible:i.PropTypes.bool,placement:i.PropTypes.string,transitionName:i.PropTypes.string,animation:i.PropTypes.any,onVisibleChange:i.PropTypes.func,afterVisibleChange:i.PropTypes.func,overlay:i.PropTypes.oneOfType([u["default"].PropTypes.node,u["default"].PropTypes.func]).isRequired,overlayStyle:i.PropTypes.object,overlayClassName:i.PropTypes.string,prefixCls:i.PropTypes.string,mouseEnterDelay:i.PropTypes.number,mouseLeaveDelay:i.PropTypes.number,getTooltipContainer:i.PropTypes.func,destroyTooltipOnHide:i.PropTypes.bool,align:i.PropTypes.object,arrowContent:i.PropTypes.any},getDefaultProps:function(){return{prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null}},getPopupElement:function(){var e=this.props,t=e.arrowContent,r=e.overlay,a=e.prefixCls;return[u["default"].createElement("div",{className:a+"-arrow",key:"arrow"},t),u["default"].createElement("div",{className:a+"-inner",key:"content"},"function"==typeof r?r():r)]},getPopupDomNode:function(){return this.refs.trigger.getPopupDomNode()},render:function(){var e=this.props,t=e.overlayClassName,r=e.trigger,a=e.mouseEnterDelay,i=e.mouseLeaveDelay,s=e.overlayStyle,c=e.prefixCls,d=e.children,f=e.onVisibleChange,m=e.transitionName,h=e.animation,b=e.placement,y=e.align,g=e.destroyTooltipOnHide,_=e.defaultVisible,v=e.getTooltipContainer,P=n(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),w=o({},P);return"visible"in this.props&&(w.popupVisible=this.props.visible),u["default"].createElement(p["default"],o({popupClassName:t,ref:"trigger",prefixCls:c,popup:this.getPopupElement,action:r,builtinPlacements:l.placements,popupPlacement:b,popupAlign:y,getPopupContainer:v,onPopupVisibleChange:f,popupTransitionName:m,popupAnimation:h,defaultPopupVisible:_,destroyPopupOnHide:g,mouseLeaveDelay:i,popupStyle:s,mouseEnterDelay:a},w),d)}});t["default"]=c,e.exports=t["default"]},835:function(e,t,r){"use strict";e.exports=r(834)},923:[967,519],928:function(e,t,r){var a=r(525);"string"==typeof a&&(a=[[e.id,a,""]]);r(23)(a,{});a.locals&&(e.exports=a.locals)},929:function(e,t,r){e.exports=r.p+"57e0d12d59659fc57d72f1c2226ddb11.png"}});